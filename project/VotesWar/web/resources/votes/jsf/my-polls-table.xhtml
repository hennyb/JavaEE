<ui:component
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">


    <div class="btn-toolbar">

        <h:form>

            
            <c:choose>
                <c:when test="#{myPollsBean.hasPrev()}">
                    <h:commandLink
                        styleClass="btn btn-success pull-left"
                        action="#{myPollsBean.prev()}">
                        <span class="glyphicon glyphicon-chevron-left"></span>
                    </h:commandLink>
                </c:when>
                <c:when test="#{myPollsBean.hasNext()}">
                    <h:commandLink
                        styleClass="btn btn-success pull-right"
                        action="#{myPollsBean.next()}">
                        <span class="glyphicon glyphicon-chevron-right"></span>
                    </h:commandLink>
                </c:when>
            </c:choose>
            


        </h:form>

    </div>
    
    <br></br>
    
    <table class="table table-bordered table-hover">

        <thead>
            <tr>
                <th>#</th>
                <th>Poll</th>
                <th>State</th>
                <th>Result</th>
            </tr>
        </thead>

        <tbody>
                <ui:repeat var="poll" varStatus="status" value="#{myPollsBean.myPolls}">

                    <tr>
                        <td>#{status.index+1}</td>
                        <td>
                            <h:link outcome="edit-poll" value="#{poll.title} "><f:param name="id" value="#{poll.id}"/></h:link>
                        </td>
                        <td>#{poll.pollState}</td>
                        <td>
                            <c:choose>
                                <c:when test="#{poll.pollState == 4}">
                                    <h:link outcome="result" value="Show Result"><f:param name="id" value="#{poll.id}"/></h:link>
                                </c:when>
                                <c:otherwise>
                                    Results are not available yet.
                                </c:otherwise>
                            </c:choose>
                            
                        </td>
                    </tr>

                </ui:repeat>
        </tbody>

    </table>

    <div class="btn-toolbar">

        <h:form>

            
            <c:choose>
                <c:when test="#{myPollsBean.hasPrev()}">
                    <h:commandLink
                        styleClass="btn btn-success pull-left"
                        action="#{myPollsBean.prev()}">
                        <span class="glyphicon glyphicon-chevron-left"></span>
                    </h:commandLink>
                </c:when>
                <c:when test="#{myPollsBean.hasNext()}">
                    <h:commandLink
                        styleClass="btn btn-success pull-right"
                        action="#{myPollsBean.next()}">
                        <span class="glyphicon glyphicon-chevron-right"></span>
                    </h:commandLink>
                </c:when>
            </c:choose>
            


        </h:form>

    </div>

</ui:component>